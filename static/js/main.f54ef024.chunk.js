(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{18:function(e,t,r){e.exports={form:"Form_form__2596_",textArea:"Form_textArea__1Zo74",textAreaLabel:"Form_textAreaLabel__23QVd",formHeader:"Form_formHeader__AN6X1",formContent:"Form_formContent__3w7QB",sendBtn:"Form_sendBtn__Yz2Tf",error:"Form_error__2VhC7",errorText:"Form_errorText__3B72H"}},21:function(e,t,r){e.exports={button:"Button_button__GwOKR",primary:"Button_primary__1OzUw",success:"Button_success__1X9dt",disabled:"Button_disabled__uz7QJ",link:"Button_link__CFhAf",lower:"Button_lower__2e2eX",upper:"Button_upper__2lyFJ"}},217:function(e,t,r){},218:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(86),s=r.n(c),i=r(8),o=r(39),l=r.n(o),d=r(2),u=r(9),j=r(14),b=r(21),m=r.n(b),_=r(40),O=r.n(_),x=r(0),f=["variant","text","className","children"],p=function(e){var t,r,n=e.variant,a=void 0===n?"primary":n,c=e.text,s=void 0===c?"lower":c,i=e.className,o=e.children,l=Object(j.a)(e,f);return Object(x.jsx)("button",Object(d.a)(Object(d.a)({className:O()(m.a.button,i,(t={},Object(u.a)(t,m.a.primary,"primary"===a),Object(u.a)(t,m.a.success,"success"===a),Object(u.a)(t,m.a.disabled,"disabled"===a),Object(u.a)(t,m.a.link,"link"===a),t),(r={},Object(u.a)(r,m.a.lower,"lower"===s),Object(u.a)(r,m.a.upper,"upper"===s),r))},l),{},{children:o}))},h=r(87),v=r.n(h),g=a.a.createContext(),y=function(){var e=a.a.useContext(g).setSortBy;return Object(x.jsxs)("aside",{className:v.a.sidebar,children:[Object(x.jsx)("h3",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(x.jsx)("div",{children:Object(x.jsx)(p,{onClick:function(){return e("byCity")},children:"\u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0443"})}),Object(x.jsx)("div",{children:Object(x.jsx)(p,{onClick:function(){return e("byCompany")},children:"\u043f\u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})})]})},F=r(24),N=r.n(F),q=function(){return Object(x.jsx)("div",{className:N.a.overlay,children:Object(x.jsxs)("div",{className:O()(N.a.scaling_squares_spinner,"loader"),children:[Object(x.jsx)("div",{className:N.a.square}),Object(x.jsx)("div",{className:N.a.square}),Object(x.jsx)("div",{className:N.a.square}),Object(x.jsx)("div",{className:N.a.square})]})})},C=r(15),k=r(88),w=r.n(k),B=["labelText","label","register","required"],D=Object(n.forwardRef)((function(e,t){var r=e.labelText,n=e.label,a=e.register,c=e.required,s=Object(j.a)(e,B);return Object(x.jsxs)("div",{className:w.a.formField,children:[Object(x.jsx)("label",{children:r}),Object(x.jsx)("input",Object(d.a)(Object(d.a)({type:"text"},a(n,{required:c})),s))]})})),T=r(93),S=r(16),L=S.a({name:S.b().min(7,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 7 \u0431\u0443\u043a\u0432!").required("\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!"),username:S.b().min(3,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 3 \u0431\u0443\u043a\u0432!").required("\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),email:S.b().email("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0447\u0442\u044b!").required("\u041f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430!"),street:S.b().required("\u0423\u043b\u0438\u0446\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430!"),city:S.b().required("\u0413\u043e\u0440\u043e\u0434 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d!"),zipcode:S.b().required("Zipcode \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d!"),phone:S.b().required("\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d!"),website:S.b().matches(/[a-zA-Z]*.[a-zA-Z]*/g,{message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!",excludeEmptyString:!0}).required("\u0412\u0435\u0431\u0441\u0430\u0439\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d!")}),z=r(3),A=function(e){var t=e.split("");return"".concat(t[0].toUpperCase()).concat(t.slice(1).join(""))},U=r(92),E=r.n(U),I=["labelText","label","register"],M=Object(n.forwardRef)((function(e,t){var r=e.labelText,n=e.label,a=e.register,c=Object(j.a)(e,I);return Object(x.jsxs)("div",{className:E.a.formField,children:[Object(x.jsx)("label",{children:r}),Object(x.jsx)("textarea",Object(d.a)(Object(d.a)({},a(n)),c))]})})),H=r(18),J=r.n(H),V=function(){var e=a.a.useContext(g),t=e.userData,r=e.clearUserData,c=Object(n.useState)(t),s=Object(i.a)(c,2),o=s[0],j=s[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),_=m[0],O=m[1],f=Object(C.e)({mode:"onSubmit",shouldUnregister:!0,resolver:Object(T.a)(L)}),h=f.register,v=f.handleSubmit,y=f.control,F=f.formState.errors,N=function(e){var t=Object.keys(e).findIndex((function(e){return"address"===e})),r=Object.keys(e.address).filter((function(e){return"suite"!==e&&"geo"!==e})).map((function(t){return Object(u.a)({},t,e.address[t])})),n=Object.keys(e).filter((function(e){return"id"!==e&&"company"!==e&&"address"!==e&&"comment"!==e})).map((function(t){return Object(u.a)({},t,e[t])})),a=n.slice(t),c=n.slice(0,t);return[].concat(Object(z.a)(c),Object(z.a)(r),Object(z.a)(a))}(t);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:J.a.formHeader,children:[Object(x.jsx)("h2",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(x.jsx)(p,{text:"upper",onClick:function(){O((function(e){return!e}))},children:_?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(x.jsxs)("form",{onSubmit:v((function(e){var r={id:o.id,name:e.name,username:e.username,email:e.email,address:{street:e.street,city:e.city,zipcode:e.zipcode},phone:e.phone,website:e.website,company:{name:t.company.name},comment:e.comment};console.log(r),r&&j(r),function(e){try{l.a.put("https://626119a9e7361dff91ff44b3.mockapi.io/users/".concat(e.id),e).then((function(t){return alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(e.name," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!"))}))}catch(t){console.log(t)}}(r),O(!1)})),className:J.a.form,children:[Object(x.jsxs)("div",{className:J.a.formContent,children:[N.map((function(e){var t,r=Object.keys(e)[0];return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)(C.a,{control:y,name:r,defaultValue:e[r],render:function(e){var t,n=e.field;return Object(x.jsx)(D,Object(d.a)({labelText:"".concat(A(r),":"),label:r,register:h,required:!0,disabled:!_,className:"".concat((null===(t=F[r])||void 0===t?void 0:t.message)&&J.a.error)},n))}}),Object(x.jsx)("p",{className:J.a.errorText,children:null===(t=F[r])||void 0===t?void 0:t.message})]},r)})),Object(x.jsx)(C.a,{control:y,name:"comment",defaultValue:o.comment,render:function(e){var t=e.field;return Object(x.jsx)(M,Object(d.a)({labelText:"Comment:",label:"comment",register:h,disabled:!_,className:J.a.textArea},t))}})]}),Object(x.jsx)("div",{className:J.a.sendBtn,children:Object(x.jsx)(p,{variant:_?"success":"disabled",text:"upper",type:"submit",disabled:!_,className:J.a.sendBtn,children:"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]}),Object(x.jsx)("div",{className:"back-btn",children:Object(x.jsx)(p,{text:"upper",onClick:function(){return r()},children:"\u043a \u0441\u043f\u0438\u0441\u043a\u0443"})})]})},Z=r(31),Q=r.n(Z),R=function(e){var t=e.children,r=e.fField,n=e.sField,a=e.tField,c=e.fFieldDescription,s=e.sFieldDescription,i=e.tFieldDescription;return Object(x.jsxs)("article",{className:Q.a.card,children:[Object(x.jsxs)("div",{className:Q.a.card__info,children:[Object(x.jsxs)("span",{children:[r,":"]}),Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:c})})]}),Object(x.jsxs)("div",{className:Q.a.card__info,children:[Object(x.jsxs)("span",{children:[n,":"]}),Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:s})})]}),Object(x.jsxs)("div",{className:Q.a.card__info,children:[Object(x.jsxs)("span",{children:[a,":"]}),Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:i})})]}),t]})},X=function(){var e=a.a.useContext(g),t=e.sortedUsers,r=e.getMoreData;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),t&&t.map((function(e){var t=e.id,n=e.name,a=e.address.city,c=e.company.name;return Object(x.jsx)("div",{className:"user-card",children:Object(x.jsx)(R,{fField:"\u0424\u0418\u041e",fFieldDescription:n,sField:"\u0433\u043e\u0440\u043e\u0434",sFieldDescription:a,tField:"\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",tFieldDescription:c,children:Object(x.jsx)(p,{title:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",variant:"link",text:"upper",onClick:function(){return r(t)},children:"\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})},e.phone)}))]})},Y=r(53),G=r.n(Y),K=function(){var e=a.a.useContext(g),t=e.userData,r=e.sortedUsers;return Object(x.jsxs)("main",{className:G.a.main,children:[null!==t&&void 0!==t&&t.name?Object(x.jsx)(V,{}):Object(x.jsx)(X,{}),r&&r.length>0&&!(null!==t&&void 0!==t&&t.name)&&Object(x.jsxs)("div",{className:G.a.mainTotal,children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e ",r.length," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"]})]})},P=r(4),W=r(5),$=r(10),ee=r(11),te=function(e){Object($.a)(r,e);var t=Object(ee.a)(r);function r(e){var n;return Object(P.a)(this,r),(n=t.call(this,e)).state={hasError:!1},n}return Object(W.a)(r,[{key:"render",value:function(){return this.state.hasError?Object(x.jsx)("h2",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(n.Component),re=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(i.a)(c,2),o=s[0],d=s[1],u=Object(n.useState)(),j=Object(i.a)(u,2),b=j[0],m=j[1];Object(n.useEffect)((function(){l.a.get("https://626119a9e7361dff91ff44b3.mockapi.io/users").then((function(e){return a(e.data)}))}),[b]);var _=Object(n.useMemo)((function(){return""===o?r:"byCity"===o?r.sort((function(e,t){return e.address.city.localeCompare(t.address.city)})):"byCompany"===o?r.sort((function(e,t){return e.company.name.localeCompare(t.company.name)})):void 0}),[r,o]);return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(te,{children:Object(x.jsx)(g.Provider,{value:{setSortBy:d,userData:b,sortedUsers:_,getMoreData:function(e){m(r.find((function(t){return t.id===e})))},clearUserData:function(){m({})}},children:_&&0===_.length?Object(x.jsx)(q,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{}),Object(x.jsx)(K,{})]})})})})};r(217);s.a.render(Object(x.jsx)(re,{}),document.getElementById("root"))},24:function(e,t,r){e.exports={overlay:"Loader_overlay__3nNrV",scaling_squares_spinner:"Loader_scaling_squares_spinner__3bQc6","scaling-squares-animation":"Loader_scaling-squares-animation__36wHc",square:"Loader_square__2Tnvg","scaling_squares_spinner-animation-child-1":"Loader_scaling_squares_spinner-animation-child-1__2Fs3F","scaling_squares_spinner-animation-child-2":"Loader_scaling_squares_spinner-animation-child-2__2luOL","scaling_squares_spinner-animation-child-3":"Loader_scaling_squares_spinner-animation-child-3__3engr","scaling_squares_spinner-animation-child-4":"Loader_scaling_squares_spinner-animation-child-4__3z4zW"}},31:function(e,t,r){e.exports={card:"DataItem_card__1FiN3",card__info:"DataItem_card__info__3uaIt"}},53:function(e,t,r){e.exports={main:"Main_main__2MoCY",mainTotal:"Main_mainTotal__1nqk6"}},87:function(e,t,r){e.exports={sidebar:"Sidebar_sidebar__3Z0N6"}},88:function(e,t,r){e.exports={formField:"Input_formField__3CJ9U"}},92:function(e,t,r){e.exports={formField:"TextArea_formField__1c7tR"}}},[[218,1,2]]]);
//# sourceMappingURL=main.f54ef024.chunk.js.map